@model CMCSPOE.Models.User;
@{
	ViewData["Title"] = " Dashboard";
	var userRole = TempData["user_Role"]?.ToString();
	var userName = TempData["user_Name"]?.ToString();
}

<h1 class="text-info text-center mb-4">Dashboard</h1>
<div class="text-center mb-3">
    <p class="fw-bold">Logged in as: @userName</p>
    <p class="text-secondary">Role: @userRole</p>
</div>

<div class="dashboard-wrapper">
    @if (!string.IsNullOrEmpty(userRole) && userRole.Equals("Lecturer", StringComparison.OrdinalIgnoreCase))
    {
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Lecturer Panel</h5>
                <small class="text-muted">Manage your claims and documents</small>
            </div>
            <div class="dashboard-card">
                <a class="list-group-item list-group-item-action" asp-controller="Claim" asp-action="SubmitClaim">Submit Claim</a>
                <a class="list-group-item list-group-item-action" asp-controller="Claim" asp-action="UploadDocuments">Upload Supporting Documents</a>
                <a class="list-group-item list-group-item-action" asp-controller="Claim" asp-action="ViewClaims">View My Claims</a>
                <div class="list-group-item">
                    <div class="fw-bold">Lecturer Management</div>
                    <a class="d-block mt-2" asp-controller="Lecturer" asp-action="Create">Create Lecturer</a>
                    <a class="d-block" asp-controller="Lecturer" asp-action="LecturerList">Lecturer List</a>
                </div>
            </div>
        </div>
    }
    else if (!string.IsNullOrEmpty(userRole) && userRole.Equals("Programme Coordinator", StringComparison.OrdinalIgnoreCase))
    {
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Programme Coordinator Panel</h5>
                <small class="text-muted">Verify and manage claims</small>
            </div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action" asp-controller="Dashboard" asp-action="Index">Dashboard Home</a>
                <a class="list-group-item list-group-item-action" asp-controller="Claim" asp-action="VerifyClaims">Verify Claims</a>
            </div>
        </div>
    }
    else if (!string.IsNullOrEmpty(userRole) && userRole.Equals("Academic Manager", StringComparison.OrdinalIgnoreCase))
    {
        <div class="dashboard-card">
            <a class="btn btn-primary w-100 mb-2" asp-controller="Claim" asp-action="ApproveClaims">Approve Claims</a>
            <a class="btn btn-primary w-100 mb-2" asp-controller="Hr" asp-action="DownloadReport">Download Report (CSV)</a>
        </div>
    }
    else
    {
        <div class="card">
            <div class="card-body">
                <p class="mb-0">No role-specific actions available.</p>
            </div>
        </div>
    }
</div>
